# Metro Hermes Compiler

This module provides high-level API to work with the Hermes bytecode compiler (HBC). HBC is integrated as a WASM binary generated by the emscripten toolchain and checked in as part of this package.

## How to re-build Hermes compiler

Get a pre-configured emscripten environment using this [Docker image](https://hub.docker.com/r/trzeci/emscripten/). Resource limits for the Docker VM need to be adjusts on Windows and Mac (16G RAM, as much CPU as possible).

```
cd path/to/hermes/checkout
docker run -i -t --rm -v `pwd`:`pwd` trzeci/emscripten bash
apt-get update -y && apt-get install -y icu-devtools
cd path/to/hermes/checkout
cmake . -DCMAKE_TOOLCHAIN_FILE=/emsdk_portable/emscripten/sdk/cmake/Modules/Platform/Emscripten.cmake -DCMAKE_BUILD_TYPE=Release
make -j emhermesc
```

After the build process finishes, the WASM binary and launch script is available in the `bin` folder.
